pipeline {
    agent any

    stages {
        stage('Git-Checkout') {
            steps {
                echo "Start Git Checkout"
                echo "${Workspace}"
                echo "${BRANCH_NAME}"
                // Get some code from a GitHub repository
                 git credentialsId: '4edc916e-d436-47bf-a0d8-775199bfa17d', url: 'https://github.com/TJayanth/MVC-CRUD.git'
                
            }
        }
        stage('Restore packages'){
               steps{
                   echo "Restore Package"
                    
                 }
        }
        stage('Clean'){
           steps{
               bat "\"${tool 'MsBuild'}\"\\MsBuild.exe MVCCRUD.sln /p:Configuration=Release /p:Platform=\"Any CPU\" /t:Clean"
               
            }
         }
        stage('Build'){
           steps{
               echo "Build"
               bat "\"${tool 'MsBuild'}\"\\MsBuild.exe MVCCRUD.sln /p:Configuration=Release /p:Platform=\"Any CPU\" /t:Rebuild"
               echo "${tool 'MsBuild'}" 
            }
         }

         stage('Release'){
           steps{
               echo "Ready for release"
            }
         }
    }
}
